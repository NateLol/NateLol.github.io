<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>Hugo Staticman Comment System - Guodong's Blog</title><meta name=Description content="Guodong's Blog"><meta property="og:title" content="Hugo Staticman Comment System">
<meta property="og:description" content="After this blog has been left aside for a while, I turn back to find out that I&rsquo;d like to have a self-hosted commenting system after each entry. I noticed that Hugo itself already provided some quick options to implement that. However, most of them are not self-hosted and oftentimes require log in before submitting the comments.
The staticman came to my attention, which is easy to deploy and can moderate the comments before showing them on site.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://natelol.github.io/hugo-staticman-comment/"><meta property="og:image" content="https://natelol.github.io/logo.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-08-26T20:39:14+08:00">
<meta property="article:modified_time" content="2021-08-26T20:39:14+08:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://natelol.github.io/logo.png">
<meta name=twitter:title content="Hugo Staticman Comment System">
<meta name=twitter:description content="After this blog has been left aside for a while, I turn back to find out that I&rsquo;d like to have a self-hosted commenting system after each entry. I noticed that Hugo itself already provided some quick options to implement that. However, most of them are not self-hosted and oftentimes require log in before submitting the comments.
The staticman came to my attention, which is easy to deploy and can moderate the comments before showing them on site.">
<meta name=application-name content="LoveIt">
<meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://natelol.github.io/hugo-staticman-comment/><link rel=prev href=https://natelol.github.io/qq-to-apple-music-playlist/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Hugo Staticman Comment System","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/natelol.github.io\/hugo-staticman-comment\/"},"genre":"posts","wordcount":329,"url":"https:\/\/natelol.github.io\/hugo-staticman-comment\/","datePublished":"2021-08-26T20:39:14+08:00","dateModified":"2021-08-26T20:39:14+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Guodong"},"description":""}</script></head>
<body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="Guodong's Blog">Guodong's Blog</a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/posts/ title=Posts> Posts </a><a class=menu-item href=/tags/ title=Tags> Tags </a><a class=menu-item href=/categories/ title=Categories> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="Guodong's Blog">Guodong's Blog</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
Cancel
</a>
</div><a class=menu-item href=/posts/ title=Posts>Posts</a><a class=menu-item href=/tags/ title=Tags>Tags</a><a class=menu-item href=/categories/ title=Categories>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a></div>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>Contents</h2>
<div class=toc-content id=toc-content-auto></div>
</div><article class="page single"><h1 class="single-title animated flipInX">Hugo Staticman Comment System</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=/ title=Author rel=" author" class=author><i class="fas fa-user-circle fa-fw"></i>Guodong</a></span></div>
<div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-08-26>2021-08-26</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;329 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;2 minutes&nbsp;</div>
</div><div class="details toc" id=toc-static kept>
<div class="details-summary toc-title">
<span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#what-are-needed>What are needed?</a></li>
<li><a href=#steps>Steps</a>
<ul>
<li><a href=#1-deploy-staticman-on-heroku>1. Deploy Staticman on Heroku</a></li>
<li><a href=#2-github-repositories>2. Github repositories</a></li>
<li><a href=#3-recaptcha>3. Recaptcha</a></li>
<li><a href=#4-website-configuration>4. Website Configuration</a></li>
</ul>
</li>
</ul>
</nav></div>
</div><div class=content id=content><p>After this blog has been left aside for a while, I turn back to find out that I&rsquo;d like to have a self-hosted commenting system after each entry. I noticed that Hugo itself already provided some quick options to implement that. However, most of them are not self-hosted and oftentimes require log in before submitting the comments.</p>
<p>The staticman came to my attention, which is easy to deploy and can moderate the comments before showing them on site.</p>
<h2 id=what-are-needed>What are needed?</h2>
<ol>
<li><a href=https://staticman.net target=_blank rel="noopener noreffer">Staticman</a> the API that can receive, check, store comment data.</li>
<li><a href=https://heroku.com target=_blank rel="noopener noreffer">Heroku</a> app to host staticman for sufficient API call quota.</li>
<li><a href=https://github.com target=_blank rel="noopener noreffer">Gitub</a> (pages for website hosting and repo for comments stroage)</li>
<li><a href=https://www.google.com/recaptcha/about/ target=_blank rel="noopener noreffer">reCaptcha</a> (to help prevent the spam comments)</li>
</ol>
<p>The overall workflow for staticman commenting system is illustrated as following:</p>
<div class=mermaid id=id-1></div>
<h2 id=steps>Steps</h2>
<p>Next, I will show the steps to set everything up.</p>
<h3 id=1-deploy-staticman-on-heroku>1. Deploy Staticman on Heroku</h3>
<p>​ First, create an account on <a href=https://heroku.com target=_blank rel="noopener noreffer">Heroku</a> before you deploy staticman on it. After you have created the account, go to the Github repo of <a href=https://github.com/eduardoboucas/staticman target=_blank rel="noopener noreffer">staticman</a> and scroll down to README to find the icon <img class=lazyload src=/svg/loading.min.svg data-src=https://camo.githubusercontent.com/6979881d5a96b7b18a057083bb8aeb87ba35fc279452e29034c1e1c49ade0636/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e737667 data-srcset="https://camo.githubusercontent.com/6979881d5a96b7b18a057083bb8aeb87ba35fc279452e29034c1e1c49ade0636/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e737667, https://camo.githubusercontent.com/6979881d5a96b7b18a057083bb8aeb87ba35fc279452e29034c1e1c49ade0636/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e737667 1.5x, https://camo.githubusercontent.com/6979881d5a96b7b18a057083bb8aeb87ba35fc279452e29034c1e1c49ade0636/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e737667 2x" data-sizes=auto alt=https://camo.githubusercontent.com/6979881d5a96b7b18a057083bb8aeb87ba35fc279452e29034c1e1c49ade0636/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e737667 title=img> and click to jump to Heroku.</p>
<h3 id=2-github-repositories>2. Github repositories</h3>
<p>​ Create two separate github repositories to hold website and comments separately. Let&rsquo;s name them as website <code>website_repo</code> and comment <code>comments_repo</code>.</p>
<h3 id=3-recaptcha>3. Recaptcha</h3>
<p>​ Register on Google</p>
<p>Encrypt the reCaptcha with the statiman api deployed on heroku by going to the following url.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>https://&lt;app_name&gt;.herokuapp.com/v2/encrypt/&lt;reCaptcha_secret&gt;
</code></pre></td></tr></table>
</div>
</div><p>Copy what&rsquo;s on the page and we denote that as <code>encrypted_reCaptcha_secret</code> in the following steps.</p>
<h3 id=4-website-configuration>4. Website Configuration</h3>
<ol>
<li>
<p>website config:</p>
<p>Add following configurations in the website config file, <code>config.toml</code></p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>staticman</span><span class=p>]</span>
  <span class=nx>enable</span> <span class=p>=</span> <span class=kc>true</span>
  <span class=nx>api</span> <span class=p>=</span> <span class=s2>&#34;https://&lt;app_name&gt;.herokuapp.com/v2/entry/&lt;github_user&gt;/&lt;comments_repo&gt;/main/comments&#34;</span>

  <span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>staticman</span><span class=p>.</span><span class=nx>reCaptcha</span><span class=p>]</span>
    <span class=nx>enabled</span> <span class=p>=</span> <span class=kc>true</span>
    <span class=nx>siteKey</span> <span class=p>=</span> <span class=s2>&#34;&lt;reCaptcha_siteKey&gt;&#34;</span>
    <span class=nx>secret</span> <span class=p>=</span> <span class=s2>&#34;&lt;encrypted_Recaptcha_secret&gt;&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>The most important thing here is that you have to be extremelly careful about the upper case for the <code>reCaptcha</code> params, such as, <code>params.staticman.reCaptcha</code>, <code>siteKey</code>.</p>
</li>
<li>
<p>staticman files in a theme</p>
<p>To enable the staticman, there are several dependenices listed as following.</p>
</li>
<li></li>
</ol>
</div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span>Updated on 2021-08-26</span>
</div>
<div class=post-info-license></div>
</div>
<div class=post-info-line>
<div class=post-info-md><span>
<a class=link-to-markdown href=/hugo-staticman-comment/index.md target=_blank>Read Markdown</a>
</span></div>
<div class=post-info-share>
<span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://natelol.github.io/hugo-staticman-comment/ data-title="Hugo Staticman Comment System"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://natelol.github.io/hugo-staticman-comment/><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://natelol.github.io/hugo-staticman-comment/ data-title="Hugo Staticman Comment System" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://natelol.github.io/hugo-staticman-comment/ data-title="Hugo Staticman Comment System"><i data-svg-src=/lib/simple-icons/icons/line.min.svg></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://natelol.github.io/hugo-staticman-comment/ data-title="Hugo Staticman Comment System"><i class="fab fa-weibo fa-fw"></i></a><a href=javascript:void(0); title="Share on Myspace" data-sharer=myspace data-url=https://natelol.github.io/hugo-staticman-comment/ data-title="Hugo Staticman Comment System" data-description><i data-svg-src=/lib/simple-icons/icons/myspace.min.svg></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://natelol.github.io/hugo-staticman-comment/ data-title="Hugo Staticman Comment System" data-description><i class="fab fa-blogger fa-fw"></i></a><a href=javascript:void(0); title="Share on Evernote" data-sharer=evernote data-url=https://natelol.github.io/hugo-staticman-comment/ data-title="Hugo Staticman Comment System"><i class="fab fa-evernote fa-fw"></i></a></span>
</div>
</div>
</div>
<div class=post-info-more>
<section class=post-tags></section>
<section>
<span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span>
</section>
</div>
<div class=post-nav><a href=/qq-to-apple-music-playlist/ class=prev rel=prev title="QQ to Apple Music Playlist"><i class="fas fa-angle-left fa-fw"></i>QQ to Apple Music Playlist</a></div>
</div>
<div style=margin-top:5rem>
<staticman class="js-comments staticman-comments">
<noscript>Enable JavaScript to view comments.</noscript>
<h4>No comment</h4>
<form id=comment-form class="js-form form" method=post>
<h4 class="reply-notice hidden">
<strong class=reply-arrow><i class="fas fa-share"></i></strong>
<strong class=reply-name></strong>
</h4>
<input type=hidden name=options[slug] value=hugo-staticman-comment>
<input type=hidden name=options[parent]>
<input type=hidden name=fields[replyThread]>
<input type=hidden name=fields[replyID]>
<input type=hidden name=fields[replyName]><input type=hidden name=options[reCaptcha][siteKey] value=6LcsligcAAAAAI-ZS8tYg2EAvvVbPDbd_mSZzXjT>
<input type=hidden name=options[reCaptcha][secret] value="eAFKZNFElqmuXO9i4OFgpri7WAACeX98mudOylfRFt/dACvUNdhm+VvnCwVE2+C7NGICQ99aTBnEVpgIRB+AjBQrj3DrWo5T7dngUVFHvoFa89kNmdECuFKlqCKE7cDUaCFKG1YenWMPw1eJo1xo3zq4Gw/Nazn5CjBbTSw0F2Nqv7nTFccJTZDKFkP+MG+Xk6obwuOYyGIMiMxxf3Oye2/2mcBk3RNCpp9Ieht8FRNpAWLQ3O3sqpYiHWTiEVerz/HET39F5mNVSAepk/5jI/aRCjIVuVZtb/yB9BpyAjdrpU7xenCNqQlI+SSvdOPdxnXHekGDll5EZPvyjFqGUQ=="><p>Your email address will not be published. Required fields are marked *.</p>
<fieldset>
<div class=textfield>
<textarea name=fields[comment] placeholder="You can use Markdown syntax*"></textarea>
</div>
</fieldset>
<fieldset>
<div class=textfield>
<input name=fields[name] type=text placeholder="Your name*">
</div>
</fieldset>
<fieldset>
<div class=textfield>
<input type=email name=fields[email] placeholder="Your email address*">
</div>
</fieldset>
<fieldset>
<div class=textfield>
<input type=url name=fields[website] placeholder="You website">
</div>
</fieldset>
<fieldset>
<div class=g-recaptcha data-sitekey=6LcsligcAAAAAI-ZS8tYg2EAvvVbPDbd_mSZzXjT></div>
<script src=https://www.google.com/recaptcha/api.js></script>
</fieldset>
<p class=js-notice>
<strong class="js-notice-text submit-success hidden">Thanks for your comment! It will show on the site once it has been approved.</strong>
<strong class="js-notice-text submit-failed hidden">Sorry, there was an error with your submission. Please make sure all required fields have been completed and try again.</strong>
<strong class="js-notice-text submit-recaptcha hidden">Please help us comfirm that you are human.</strong>
</p>
<fieldset>
<button type=submit class=btn>Comment</button>
<button type=submit class="btn hidden" disabled>Submitted</button>
<button type=reset class=btn value=Reset>Reset</button>
</fieldset>
</form>
<div id=commentPreview class=comment-preview></div>
</staticman>
</div>
<div id=comments></div></article></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.87.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
</div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Guodong</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div>
</div>
</footer></div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top">
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments">
<i class="fas fa-comment fa-fw"></i>
</a>
</div>
<link rel=stylesheet href=/lib/bootstrap/bootstrap.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/mermaid/mermaid.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/showdown/showdown.min.js></script><script type=text/javascript src=/lib/jquery/jquery-3.5.1.slim.min.js></script><script type=text/javascript src=/lib/bootstrap/bootstrap.min.js></script><script type=text/javascript src=/js/staticman-preview.js></script><script type=text/javascript>$(document).ready(function(){var d=$('.js-comments');$('.js-form').submit(function(){var d=this,a;let e='https://mstcn.herokuapp.com/v2/entry/natelol/comments/main/comments',f=$(this).serialize();return $(d).addClass('form--loading'),$('button[type="submit"]:enabled').addClass('hidden'),$('button[type="submit"]:disabled').removeClass('hidden'),a=new XMLHttpRequest,a.open("POST",e),a.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),a.setRequestHeader('X-Requested-With','XMLHttpRequest'),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var e=a.status;e>=200&&e<400?(b('success'),setTimeout(function(){c()},3e3),$(d).removeClass('form--loading')):(console.error(a.statusText),b('failed'),$(d).removeClass('form--loading'))}},a.send(f),!1});function b(a){a=='success'?($('.js-form .submit-success').removeClass('hidden'),$('.js-form .submit-failed').addClass('hidden'),$('.js-form .submit-recaptcha').addClass('hidden')):a=='failed'?($('.js-form .submit-success').addClass('hidden'),$('.js-form .submit-failed').removeClass('hidden'),$('.js-form .submit-recaptcha').addClass('hidden')):($('.js-form .submit-success').addClass('hidden'),$('.js-form .submit-failed').addClass('hidden'),$('.js-form .submit-recaptcha').removeClass('hidden')),$('button[type="submit"]:enabled').removeClass('hidden'),$('button[type="submit"]:disabled').addClass('hidden')}function c(){a(),$('.js-form input').filter(function(){return this.name.match(/^fields\[.*\]$/)}).val(''),$('.js-form textarea').val(''),$('.js-form .submit-success').addClass('hidden'),$('.js-form .submit-failed').addClass('hidden'),$('.js-form .submit-recaptcha').addClass('hidden'),$('#commentPreview').html('')}function a(){$('.js-form .reply-notice .reply-name').text(''),$('.js-form .reply-notice img').remove(),$('.js-form .reply-notice a').remove(),$('.js-form .reply-notice').addClass('hidden'),$('.js-form input[name="fields[replyThread]"]').val(''),$('.js-form input[name="fields[replyID]"]').val(''),$('.js-form input[name="fields[replyName]"]').val('')}$('article.static-comment').on('click','a.reply-btn',function(c){a();var b=$(c.delegateTarget);$('.js-form input[name="fields[replyThread]"]').val(this.title),$('.js-form input[name="fields[replyID]"]').val(this.id),authorTag=b.find('.comment-author'),replyName=authorTag.text(),$('.js-form input[name="fields[replyName]"]').val(replyName),$('.js-form .reply-notice').removeClass('hidden'),$('.js-form .reply-name').text(replyName),avatarTag=b.find('.comment-avatar'),$('.js-form .reply-arrow').after(avatarTag.clone()),closeBtn=$("<a class='close-btn btn'>\u2716</a>"),$('.js-form .reply-notice').append(closeBtn)}),$('.js-form .reply-notice').on('click','a.close-btn',function(){a()}),$('.js-form button[type="reset"]').click(function(){c()})})</script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript src=/lib/mermaid/mermaid.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},data:{"id-1":"sequenceDiagram\n\nautonumber\n\nparticipant website [Github]\n\nparticipant staticman [Heroku]\n\nparticipant reCaptcha [Google]\n\nparticipant comments [Github]\n\nwebsite [Github]-\u003e\u003estaticman [Heroku]: POST comment data to API\nNote over staticman [Heroku]: Check data intergrity\n\nstaticman [Heroku]--\u003e\u003ereCaptcha [Google]: reCaptcha check\nNote right of reCaptcha [Google]: optional\nreCaptcha [Google]--\u003e\u003estaticman [Heroku]: Return results\n\n\n\nstaticman [Heroku]-\u003e\u003ecomments [Github]: Create pull request for comment\n\n\nNote over comments [Github]: Review comments\ncomments [Github]-\u003e\u003ewebsite [Github]: Update website to show "},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body>
</html>